#!/usr/bin/env ruby

# What have I installed recently that I'm not explicitly managing
installed = `brew ls -1`.split("\n")

# Let's exclude things that I know I want and have documented
wanted = `brew bundle list --all --file Brewfile`.split("\n")

# These got installed some how, but I don't care about them.
# exclude them from the report
ignored = [
    'aom',
    'apr-util',
    'apr',
    'argon2',
    'aspell',
    'augeas',
    'autoconf',
    'awscli',
    'azure-cli',
    'berkeley-db',
    'berkeley-db@5',
    'brave-browser',
    'brotli',
    'c-ares',
    'ca-certificates',
    'cairo',
    'certbot',
    'certifi',
    'cffi',
    'cfn-lint',
    'composer',
    'cryptography',
    'dialog',
    'docutils',
    'erlang',
    'firefox',
    'flyctl',
    'fontconfig',
    'freetds',
    'freetype',
    'gd',
    'gdbm',
    'gettext',
    'gh',
    'ghostscript',
    'giflib',
    'glib',
    'gmp',
    'gnu-tar',
    'graphite2',
    'groff',
    'harfbuzz',
    'heroku-node',
    'heroku',
    'highway',
    'icu4c',
    'igbinary@8.2',
    'imap-uw',
    'imath',
    'isl',
    'jasper',
    'jbig2dec',
    'jenv',
    'jo',
    'jpeg-turbo',
    'jpeg-xl',
    'jpeg',
    'k3d',
    'k6',
    'krb5',
    'kubernetes-cli',
    'libavif',
    'libcbor',
    'libevent',
    'libfido2',
    'libgit2',
    'libidn',
    'libidn2',
    'libmemcached',
    'libmpc',
    'libnghttp2',
    'libpaper',
    'libpng',
    'libpq',
    'libsodium',
    'libssh2',
    'libtiff',
    'libtool',
    'libunistring',
    'libusb',
    'libuv',
    'libvmaf',
    'libx11',
    'libxau',
    'libxcb',
    'libxdmcp',
    'libxext',
    'libxrender',
    'libzip',
    'little-cms2',
    'lua',
    'lz4',
    'lzo',
    'm4',
    'memcached@8.2',
    'miniconda',
    'mongodb@8.2',
    'mpdecimal',
    'mpfr',
    'msgpack@8.2',
    'mysql-client',
    'ncurses',
    'neonctl',
    'netpbm',
    'oniguruma',
    'openexr',
    'openjpeg',
    'openldap',
    'openssl@1.1',
    'openssl@3',
    'pcre',
    'pcre2',
    'perl',
    'php',
    'pixman',
    'pkg-config',
    'postgresql',
    'postgresql@14',
    'procs',
    'psutils',
    'pycparser',
    'pyenv',
    'pygments',
    'python-attrs',
    'python-certifi',
    'python-click',
    'python-cryptography',
    'python-dateutil',
    'python-markupsafe',
    'python-mpmath',
    'python-networkx',
    'python-packaging',
    'python-pbr',
    'python-pyparsing',
    'python-pytz',
    'python-setuptools',
    'python-sympy',
    'python-typing-extensions',
    'python-urllib3',
    'python@3.10',
    'python@3.11',
    'python@3.12',
    'python@3.9',
    'pyyaml',
    'rabbitmq',
    'readline',
    'ripgrep',
    'rtmpdump',
    'ruby',
    'scc',
    'shellcheck',
    'siege',
    'six',
    'snappy',
    'sqlfluff',
    'sqlite',
    'terraform',
    'tidy-html5',
    'typst',
    'uchardet',
    'unixodbc',
    'watch',
    'webp',
    'wxwidgets',
    'xorgproto',
    'xz',
    'zlib',
    'zstd',
]

installed.each do |formula|
    next if ignored.include? formula
    next if wanted.include? formula

    puts "'#{formula}',"
end
